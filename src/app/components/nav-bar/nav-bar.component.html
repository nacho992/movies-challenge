<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container-fluid">
    <a class="navbar-brand" [routerLink]="['home']">
      <img src="../../../assets/logo.jpg" alt="" />
    </a>

    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarToggler"
      aria-controls="navbarToggler"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarToggler">
      <a class="navbar-brand" [routerLink]="['home']"><h3>TMDB</h3></a>

      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a
          [ngbPopover]="PeliculasContent"
          class="nav-link"
          [autoClose]="true"
          triggers="manual"
          #pelisContent="ngbPopover"
  
          (click)="pelisContent.open()"
          aria-current="page"
            >Películas</a
          >
          <ng-template #PeliculasContent>
            <ul>
              <li class="nav-item">
                <a  aria-current="page" data-bs-toggle="collapse" data-bs-target=".navbar-collapse.show" [routerLink]="['popular']">Populares</a>
              </li>
              <li class="nav-item">
                <a  aria-current="page" data-bs-toggle="collapse" data-bs-target=".navbar-collapse.show" [routerLink]="['upcoming']">Próximo</a>
              </li>
              <li class="nav-item">
                <a  aria-current="page" data-bs-toggle="collapse" data-bs-target=".navbar-collapse.show" [routerLink]="['toprate']">Mejor calificado</a>
              </li>
            </ul>
          </ng-template>
        </li>

<!--         <li class="nav-item">
          <a
          [ngbTooltip]="SeriesContent"
          [ngbPopover]="SeriesContent"
          class="nav-link"
          [autoClose]="true"
          triggers="manual"
          #seriesContent="ngbPopover"
          (click)="seriesContent.open()"
          aria-current="page" 
            >Series de TV</a
          >
          <ng-template #SeriesContent>
            <ul>
              <li class="nav-item">
                <a  aria-current="page"  [routerLink]="['tv-series']">Populares</a>
              </li>
              <li class="nav-item">
                <a  aria-current="page"  [routerLink]="['tv-series']">Transmitiendo Hoy</a>
              </li>
              <li class="nav-item">
                <a  aria-current="page"  [routerLink]="['tv-series']">En Televisión</a>
              </li>
              <li class="nav-item">
                <a  aria-current="page"  [routerLink]="['tv-series']">Mejor calificado</a>
              </li>
            </ul>
          </ng-template>
        </li> -->

        <!-- <li class="nav-item">
          <a
            [ngbTooltip]="PersonasContent"
            [ngbPopover]="PersonasContent"
            class="nav-link"
            [autoClose]="true"
            triggers="manual"
            #personContent="ngbPopover"
            (click)="personContent.open()"
            aria-current="page"
            >Personas</a
          >
          <ng-template #PersonasContent>
            <ul>
              <li class="nav-item">
                <a  aria-current="page" [routerLink]="['person']">Populares en Personas</a>
              </li>
            </ul>
          </ng-template>
        </li> -->
      </ul>

      <div class="input">
        <div class="d-flex">
            <input class="form-control me-2"
            #inputSearch 
            (keyup)="onSearch(inputSearch.value)" 
            (click)="onHistorySearch()" 
            type="search" placeholder="Buscar..." 
            aria-label="Search"
            
            [ngbPopover]="HistoryContent"
            [autoClose]="true"
            triggers="manual"
            #HistoryList="ngbPopover"
            (click)="HistoryList.open()"
            >
            <button class="btn btn-outline-secondary" data-bs-toggle="collapse" data-bs-target=".navbar-collapse.show">Buscar</button>
        </div>
     </div>

     <li class="nav-item">
      <ng-template #HistoryContent>
          <li class="nav-item" *ngFor="let title of titles">
            <img src="../../../assets/icons/search.svg" alt="">
            <a (click)="onSearch(title)" aria-current="page">{{title}}</a>
          </li>
      </ng-template>
    </li> 

      <div class="text-end">
        <button
          type="button"
          class="btn btn-outline-light me-2"
          [routerLink]="['sig-in']"
          *ngIf="!ok"
        >
          Login
        </button>
        <button
          type="button"
          class="btn btn-warning"
          *ngIf="ok"
          (click)="signOut()"
        >
          Sign-out
        </button>
      </div>
    </div>
  </div>
</nav>